"use strict";OJ.extendComponent(OjComponent,"LddDuckForm",{_t:"<div><textinput label=\"Duck ID:\" var=lblDuckID required=1></textinput><textinput label=\"Duck Name (optional):\" var=lblDuckName></textinput></div>",validate:function(){return(this.lblDuckID.getValue().length==5)},getID:function(){return this.lblDuckID.getValue()},getName:function(){return this.lblDuckName.getValue()},clearForm:function(){this.lblDuckID.setValue("");this.lblDuckName.setValue("")}},{_TAGS:["duckform"]});OJ.extendComponent(OjComponent,"LddMailingAddressForm",{_t:"<div><textinput label=\"Address Line1:\" var=lblAddrLine1></textinput><p>Street address, P.O. box, company name, c/o</p><br><textinput label=\"Address Line2:\" var=lblAddrLine2></textinput><p>Apartment, suite, unit, building, floor, etc.</p><br><textinput label=\"City:\" var=lblAddrCity></textinput><textinput label=\"State:\" var=lblAddrState></textinput><textinput label=\"Zip:\" var=lblAddrZip></textinput></div>"},{_TAGS:["mailingaddressform"]});OJ.extendComponent(OjComponent,"LddRegisteredDuck",{_t:"<div class=registeredDuckPanel><img var=imgDuck /><label var=lblRegDuckName></label><br><label var=lblRegDuckID></label><br><label var=lblRegName></label></div>",_c:function(a){this._s("LddRegisteredDuck","_c",arguments);this.imgDuck.setSource("/assets/ldd/duck.png")},setDuckID:function(a){this.lblRegDuckID.setText("Duck ID:"+a)},setDuckName:function(a){this.lblRegDuckName.setText("Duck Name:"+a)},setName:function(a){this.lblRegName.setText("Registered to "+a)}},{_TAGS:["registeredduck"]});OJ.extendClass(NwApp,"LddLuckyDuckDays",{_t:"<div><div var=registeredContainer class=registeredPanel></div><div class=contentPanel><textinput label=\"Name:\" var=lblName></textinput><p class=textChoose>If you are a winner, how would you like to be contacted?</p><div class=chooseContactMethod><selector var=slcEmailPhone on-change=_onSlcEmailPhone selection-renderer=OjRadioOption><i>\"Email\"</i><i>\"Phone\"</i></selector><div><textinput label=\"Email Address:\" var=lblEmailReq></textinput><textinput label=\"Phone Number:\" var=lblPhoneReq class=hidden></textinput></div></div><div var=duckContainer class=duckPanel><duckform></duckform></div><button on-click=_onRegisterDuck>Register Duck</button> (Afterwards you can register more ducks) </div><div var=futureContactContainer class=futureContactPanel><p>Thank you for registering your duck!</p><checkbox var=slcContact on-change=_onSlcContact is-selected=1>I would like to be contacted about future events</checkbox><div var=futureContactWrapper><textinput label=\"Email Address:\" var=lblEmail></textinput><textinput label=\"Phone Number:\" var=lblPhone></textinput><div var=mailingAddressContainer class=mailingAddressPanel><mailingaddressform></mailingaddressform></div></div></div><button on-click=_onAdoptionPaper>Adoption Paper</button></div>",_c:function(a){this._s("LddLuckyDuckDays","_c",arguments);this.registeredContainer.hide();this.futureContactContainer.hide()},_setRegistered:function(){this.registeredContainer.show();var a=new LddRegisteredDuck();a.setDuckName(this.duckContainer.getChildAt(0).getName());a.setDuckID(this.duckContainer.getChildAt(0).getID());a.setName(this.lblName.getValue());this.registeredContainer.addChild(a);this.duckContainer.getChildAt(0).clearForm()},_validateFields:function(a){var b="";if(isEmpty(this.lblName.getValue())){b="Please fill in your name\n"}if((this.lblEmailReq.isVisible())&&(isEmpty(this.lblEmailReq.getValue()))){b=b+"Please fill in your email address\n"}else{if((this.lblPhoneReq.isVisible())&&(isEmpty(this.lblPhoneReq.getValue()))){b=b+"Please fill in your phone number\n"}}if(!this.duckContainer.getChildAt(0).validate()){if(this.duckContainer.getChildAt(0).getID().length>0){b=b+this.duckContainer.getChildAt(0).getID()+" is not a valid Duck ID"}else{b=b+"Please fill in a Duck ID"}}if(b.length>0){WindowManager.alert("Registration Incomplete",b);return false}else{return true}},_shouldRegisterPerson:function(){return true},_registerPersonIfNeeded:function(){if(this._shouldRegisterPerson()){return true}else{return false}},_registerDuck:function(){},_onRegisterDuck:function(a){if(this._validateFields()){var b=this._registerPersonIfNeeded();this._registerDuck();this._setRegistered();if(b){this.lblEmail.setValue(this.lblEmailReq.getValue());this.lblPhone.setValue(this.lblPhoneReq.getValue());this.futureContactContainer.show()}}},_onAdoptionPaper:function(a){WindowManager.alert("Adoption paper")},_onSlcEmailPhone:function(a){if(this.lblEmailReq.isVisible()){this.lblEmailReq.hide();this.lblPhoneReq.show()}else{this.lblEmailReq.show();this.lblPhoneReq.hide()}},_onSlcContact:function(a){if(this.futureContactWrapper.isVisible()){this.futureContactWrapper.hide()}else{this.futureContactWrapper.show()}}});