OJ.importJs("oj.data.Object");"use strict";OJ.extendClass(OjObject,"OjXml",{_props_:{xml:null},_constructor:function(a){this._super("OjXml","_constructor",[]);this.setXml(a)},attr:function(a){if(arguments.length>1){this._xml.setAttribute(a,arguments[1]);return val}return this._xml.getAttribute(a)},query:function(c){var e=0,b=arguments.length>1?arguments[1]:0;var a,d=[];if(!window.DOMParser){d=this._xml.selectNodes(c);var f=d.length;for(;e<f&&(!b||e<b);e++){d[e]=new OjXml(d[e])}return b==1?(f?d[0]:null):d.slice(0,b)}var g=(this._xml.ownerDocument?this._xml.ownerDocument:this._xml).evaluate("."+c,this._xml,null,XPathResult.ANY_TYPE,null);if(g.resultType==XPathResult.ORDERED_NODE_ITERATOR_TYPE||g.resultType==XPathResult.UNORDERED_NODE_ITERATOR_TYPE){while((a=g.iterateNext())&&(!b||e++<b)){d.push(new OjXml(a))}return b==1?(d.length?d[0]:null):d}if(g.resultType==XPathResult.STRING_TYPE){return g.stringValue}if(g.resultType==XPathResult.NUMBER_TYPE){return g.numberValue}if(g.resultType==XPathResult.BOOLEAN_TYPE){return g.booleanValue}return null},value:function(){if(arguments.length){var b=arguments[0];var a=this.query("/"+b,1);return a?a.value():null}return this._xml.textContent},setXml:function(a){this._xml=toXml(a)}},{xml:function(a){if(isXml(a)){return new OjXml(a)}if(isString(a)){return new OjXml(toXml(a))}return isObjective(a)&&a.is("OjXml")?a:null}});