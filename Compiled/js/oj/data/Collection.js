OJ.importJs("oj.events.Actionable");OJ.importJs("oj.events.CollectionEvent");"use strict";OJ.extendClass(OjActionable,"OjCollection",{_props_:{allowDuplicate:true,items:null},_constructor:function(){this._super("OjCollection","_constructor",[]);this._items=[];if(arguments.length){this.setItems(arguments[0])}},_destructor:function(){this._items=null;return this._super("OjCollection","_destructor",arguments)},addItem:function(a){return this.addItemAt(a,this.numItems())},addItemAt:function(b,a){if(!this._allowDuplicate&&this.hasItem(b)){return}this._items.splice(a,0,b);this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_ADD,b,a));return b},getItemAt:function(a){return this._items[a]},hasItem:function(a){return this.indexOfItem(a)!=-1},indexOfItem:function(a){return this._items.indexOf(a)},numItems:function(){return this._items.length},removeAllItems:function(){var a=this.numItems();while(a-->0){this.removeItemAt(a)}},removeItem:function(a){return this.removeItemAt(this.indexOfItem(a))},removeItemAt:function(a){if(a<0){return}var b=this._items.splice(a,1)[0];this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_REMOVE,b,a));return b},replaceItem:function(b,a){return this.replaceItemAt(this.indexOfItem(b),a)},replaceItemAt:function(a,b){if(a>-1&&a<this.numItems()){return this._items.splice(a,1,b)[0]}return null},reverse:function(){},sort:function(){var b=this._items.clone();if(arguments.length){this._items.sort(arguments[0])}else{this._items.sort()}var a=this._items.length;while(a-->0){if(this._items[a]!=b[a]){this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_MOVE,this._items[a],a))}}},setItemAt:function(c,a){if(!this._allowDuplicate&&this.hasItem(c)){return}var b=this._items.splice(a,1,c)[0];if(b==c){return}this.dispatchEvent(new OjCollectionEvent(OjCollectionEvent.ITEM_REPLACE,c,a));return b},getItems:function(){return this._items.clone()},setItems:function(a){var d,f=this._items.length,e;if(isObject(a)){if(isObjective(a)&&a.is("OjCollection")){a=a.getItems()}else{var c=[];for(var b in a){c.push(a[b])}a=c}}else{if(!isArray(a)){a=[]}}d=a.length;if(f>d){e=f-d;while(e-->0){this.removeItemAt(--f)}}while(d-->0){if(d>=f){this.addItemAt(a[d],0)}else{this.setItemAt(a[d],d)}}}},{collection:function(a){return isArray(a)||!isObjective(a)?new OjCollection(a):a}});window.OjICollection={_prepareItems:function(){if(this._items){return}this._items=new OjCollection()},addItem:function(a){this._prepareItems();this._items.addItem(a)},addItemAt:function(b,a){this._prepareItems();this._items.addItemAt(b)},getItemAt:function(a){return this._items?this._items.getItemAt(a):null},getItems:function(){return this._items?this._items.getItems():[]},hasItem:function(a){return this._items?this._items.hasItem(a):false},indexOfItem:function(a){return this._items?this._items.indexOfItem(a):-1},numItems:function(){return this._items?this._items.numItems():0},removeAllItems:function(){if(this._items){this._items.removeAll()}},removeItem:function(a){if(this._items){this._items.removeItem(a)}},removeItemAt:function(a){if(this._items){this._items.removeItemAt(a)}},reverse:function(){if(this._items){this._items.reverse()}},sort:function(){if(this._items){this._items.sort.apply(this._items,arguments)}},setItemAt:function(b,a){this._prepareItems();this._items.setItemAt(b,a)},setItems:function(a){this._prepareItems();this._items.setItems(a)}};