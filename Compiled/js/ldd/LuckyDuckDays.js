OJ.importJs("nw.app.App");OJ.importJs("oj.form.TextArea");OJ.importJs("oj.form.TextInput");OJ.importJs("oj.form.Selector");OJ.importJs("oj.list.LabelItemRenderer");OJ.importJs("oj.form.RadioOption");OJ.importJs("oj.form.CheckedOption");OJ.importJs("ldd.DuckForm");OJ.importJs("ldd.MailingAddressForm");OJ.importJs("ldd.RegisteredDuck");OJ.importCss("ldd.LuckyDuckDays");"use strict";OJ.extendClass(NwApp,"LddLuckyDuckDays",{_template:"ldd.LuckyDuckDays",_constructor:function(a){this._super("LddLuckyDuckDays","_constructor",arguments);this.registeredContainer.hide();this.futureContactContainer.hide()},_setRegistered:function(){this.registeredContainer.show();var a=new LddRegisteredDuck();a.setDuckName(this.duckContainer.getChildAt(0).getName());a.setDuckID(this.duckContainer.getChildAt(0).getID());a.setName(this.lblName.getValue());this.registeredContainer.addChild(a);this.duckContainer.getChildAt(0).clearForm()},_validateFields:function(a){var b="";if(isEmpty(this.lblName.getValue())){b="Please fill in your name\n"}if((this.lblEmailReq.isVisible())&&(isEmpty(this.lblEmailReq.getValue()))){b=b+"Please fill in your email address\n"}else{if((this.lblPhoneReq.isVisible())&&(isEmpty(this.lblPhoneReq.getValue()))){b=b+"Please fill in your phone number\n"}}if(!this.duckContainer.getChildAt(0).validate()){if(this.duckContainer.getChildAt(0).getID().length>0){b=b+this.duckContainer.getChildAt(0).getID()+" is not a valid Duck ID"}else{b=b+"Please fill in a Duck ID"}}if(b.length>0){WindowManager.alert("Registration Incomplete",b);return false}else{return true}},_shouldRegisterPerson:function(){return true},_registerPersonIfNeeded:function(){if(this._shouldRegisterPerson()){return true}else{return false}},_registerDuck:function(){},_onRegisterDuck:function(a){if(this._validateFields()){var b=this._registerPersonIfNeeded();this._registerDuck();this._setRegistered();if(b){this.lblEmail.setValue(this.lblEmailReq.getValue());this.lblPhone.setValue(this.lblPhoneReq.getValue());this.futureContactContainer.show()}}},_onAdoptionPaper:function(a){WindowManager.alert("Adoption paper")},_onSlcEmailPhone:function(a){if(this.lblEmailReq.isVisible()){this.lblEmailReq.hide();this.lblPhoneReq.show()}else{this.lblEmailReq.show();this.lblPhoneReq.hide()}},_onSlcContact:function(a){if(this.futureContactWrapper.isVisible()){this.futureContactWrapper.hide()}else{this.futureContactWrapper.show()}}});